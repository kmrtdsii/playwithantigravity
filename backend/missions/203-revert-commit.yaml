id: "203-revert-commit"
title: "Safe Undo"
description: "A commit introduced a bug, but it's already pushed (simulated). Undo the changes by creating a NEW commit that reverses the effect."
difficulty:
  level: "intermediate"
  stars: 2
skill: "revert"

setup:
  - "git init"
  - "git config user.name 'User'"
  - "git config user.email 'user@example.com'"
  - "echo 'Stable feature' > app.js"
  - "git add app.js"
  - "git commit -m 'Initial release'"
  - "echo 'Buggy feature' >> app.js"
  - "git add app.js"
  - "git commit -m 'Add buggy feature'"

validation:
  checks:
    - type: "head_commit_message"
      message_pattern: "Revert \"Add buggy feature\""
      description: "Created a revert commit"
    - type: "file_content"
      path: "app.js"
      contains:
        - "Stable feature"
      description: "App restored to stable state"

hints:
  - "Use `git revert` to safely undo a commit."
  - "You need to target the HEAD commit."
  - "Command: `git revert HEAD`"

translations:
  ja:
    title: "安全な取り消し"
    description: "バグを含むコミットをしてしまいました。そのコミットの影響を打ち消す「新しいコミット」を作成してください。"
    hints:
      - "`git revert` を使うと、安全にコミットを打ち消せます。"
      - "現在のHEADコミットを対象にします。"
      - "コマンド例: `git revert HEAD`"
